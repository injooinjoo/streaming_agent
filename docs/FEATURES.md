# 기능 명세서

> Streaming Agent 오버레이 및 기능 상세 명세

---

## 목차

1. [공통 사항](#1-공통-사항)
2. [채팅창 (Chat Overlay)](#2-채팅창-chat-overlay)
3. [후원 알림 (Alert Overlay)](#3-후원-알림-alert-overlay)
4. [후원 자막 (Subtitle Overlay)](#4-후원-자막-subtitle-overlay)
5. [목표치 그래프 (Goal Overlay)](#5-목표치-그래프-goal-overlay)
6. [전광판 (Ticker Overlay)](#6-전광판-ticker-overlay)
7. [룰렛 (Roulette Overlay)](#7-룰렛-roulette-overlay)
8. [이모지 반응 (Emoji Overlay)](#8-이모지-반응-emoji-overlay)
9. [투표 (Voting Overlay)](#9-투표-voting-overlay)
10. [엔딩 크레딧 (Credits Overlay)](#10-엔딩-크레딧-credits-overlay)
11. [광고 (Ad Overlay)](#11-광고-ad-overlay)
12. [디자인 커스텀](#12-디자인-커스텀)

---

## 1. 공통 사항

### 디자인 컨셉
- ChatGPT 스타일 (다크 모드, 프리미엄 그린 포인트)
- 깔끔한 사이드바, Inter/Pretendard 폰트
- Glass-morphism 효과

### 오버레이 관리
- 각 기능별 전용 URL 제공 (해시 기반)
- URL 복사/새로고침/초기화 기능
- 실시간 Socket.io 동기화

---

## 2. 채팅창 (Chat Overlay)

### 테마 (26+)
기본, 탄막, 고양이, 설날, 롤, 스타, 배그, 하트, 겨울, 레트로, 무지개, 크레용, 골드, 점선, 윈도우, 카카오톡, 라운드, 풍선, 칠판, 네온, 박스, 가죽, 포스트잇, 음식, 오버워치 등

### 레이아웃 설정
- **정렬**: 좌/우/가운데
- **줄바꿈**: 한줄/줄바꿈 모드
- **닉네임 구분선**: 시작라인/개별라인

### 애니메이션
Slide, Fade, Bounce, Flip, Rotate, Zoom, Tada, Wobble 등

### 상세 설정
- **투명도**: 0-100%
- **툴팁/미리보기**: 사용 여부
- **커스텀 CSS**: 직접 입력

### 표시 항목
- 플랫폼 아이콘 표시
- 스크롤 사용 여부
- 닉네임/ID 표시
- 랜덤 색상 모드

### 필터링
- 사용자 필터링
- 후원 알림 필터링
- 봇 필터링
- 단어 필터링 (하트 처리)

### 알림 기능
- 입장 알림 (텍스트/알림음/음성)
- 채팅 알림 (텍스트/알림음/음성)

### 내장 위젯 (명령어 지원)

#### 총 시청자수
- 상/하 위치 설정

#### 공지 (Notice)
- 테마 지원
- 명령어: `!공지`, `!공지삭제`, `!공지 시간` 등

#### 타이머 (Timer)
- 현재시간/업타임 표시
- 명령어: `!시간`, `!시간 10분`, `!시간/추가` 등

#### 채팅 고정 (Pin)
- 특정 채팅 상단 고정
- 음성(TTS) 읽기 지원

---

## 3. 후원 알림 (Alert Overlay)

### 테마
기본, 하트모션, 스타모션, 고양이, 설날, 롤/스타/배그 등

### 창 설정
- 투명도
- 툴팁
- 커스텀 CSS
- 일시중지 표시

### 작동 규칙

#### 플랫폼별 (SOOP)
- 별풍선, 애드벌룬, 영상풍선, 미션, 스티커 선택적 사용

#### 우선순위
- 개수 중첩 시 마지막 설정 우선
- 전체 범위 설정은 리스트 최상단 권장

### 효과 및 사운드
- **텍스트 효과**: Flash, Bounce, Tada, Flip, Fade, Rotate, RollIn 등
- **알림 효과**: 등장/퇴장 개별 애니메이션
- **TTS**: 볼륨, 속도, 글자수 제한
- **GIF 초기화**: 이미지 초기화 지원

### 시그니처 알림
금액별 커스텀 알림 설정:
- 최소/최대 금액 범위
- 전용 사운드/이미지
- 개별 애니메이션
- 텍스트 포맷

---

## 4. 후원 자막 (Subtitle Overlay)

### 데이터 로직
- 최대 1주일 데이터 로드
- 시작일 설정 시 1달 복구 지원

### 표시 모드
- **개수**: 총 후원 개수
- **MVP**: 최다 후원자
- **랭킹**: 메달 표시
- **최근**: 최근 후원 목록
- **후원 이미지**: 이미지 후원

### 디자인
- 투명도
- 커스텀 CSS
- 플랫폼 구분 아이콘
- 익명 표시 필터링

---

## 5. 목표치 그래프 (Goal Overlay)

### 대상
- 별풍선
- 구독
- 시청자 수

### 모양
- 바(Bar)
- 원형
- 하트
- 별
- 반원

### 기능
- 시작/최대값 설정
- 자동 증가
- 반복 효과
- 완료 이펙트
- 시작일 집계

---

## 6. 전광판 (Ticker Overlay)

### 기능
- 메시지 흐름 표시
- 남은 시간 표시
- 숨김 모드

### 권한
- 매니저/열혈 등 등급별 사용 제한

### 명령어
- `!전광판`: 메시지 설정
- `!전광판삭제`: 삭제
- `!전광판숨김`: 숨김/표시 토글

---

## 7. 룰렛 (Roulette Overlay)

### 기능
- 세그먼트 커스터마이징 (텍스트, 색상, 확률)
- 트리거 조건 설정 (후원 금액 등)
- 스핀 애니메이션
- 결과 알림

### 통계
- 룰렛 결과 기록
- 확률 분석

---

## 8. 이모지 반응 (Emoji Overlay)

### 애니메이션 타입
- **Float**: 떠오르기
- **Explode**: 폭발
- **Rain**: 비처럼 내림
- **Bounce**: 튕김

### 설정
- 이모지 세트 선택
- 동시 표시 개수
- 지속 시간
- 트리거 조건

---

## 9. 투표 (Voting Overlay)

### 기능
- 옵션 설정 (최대 10개)
- 시간 제한
- 실시간 결과 표시

### 투표 방식
- 채팅 기반
- 후원 기반

---

## 10. 엔딩 크레딧 (Credits Overlay)

### 섹션
- 후원자 목록
- 채팅 참여자
- 이모티콘 반응자

### 설정
- 스크롤 속도
- 배경 음악
- 섹션별 필터링

---

## 11. 광고 (Ad Overlay)

### 슬롯 타입
- **Banner**: 배너 광고
- **Popup**: 팝업 광고
- **Corner**: 모서리 광고

### 설정
- 위치 (상/하/좌/우/중앙)
- 크기 (px 또는 %)
- 표시/전환 시간

---

## 12. 디자인 커스텀

### 아이콘
- SOOP 등급별 아이콘 설정
- 플랫폼별 커스텀 아이콘

### 폰트 (50종 이상)
G마켓 산스, 나눔고딕, 쿠키런, 배달의민족, Pretendard 등
- 웹폰트 URL 직접 입력 지원

### 배경
- 배경색 설정
- 이미지 업로드 (드래그 앤 드롭)
- 외부 이미지 링크
- 채우기 옵션 (cover, contain, repeat)

### 역할별 색상 (8개)
| 역할 | 기본 닉네임 색상 |
|------|-----------------|
| 스트리머 | #ff6b6b |
| 매니저 | #ffd93d |
| VVIP | #c792ea |
| VIP | #89ddff |
| 팬클럽 | #82aaff |
| 구독자 | #addb67 |
| 서포터 | #ffcb6b |
| 일반 | #ffffff |

---

*문서 최종 업데이트: 2026-01-21*
